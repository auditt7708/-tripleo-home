# *******************************************************************
# This file was created automatically by the sample environment
# generator. Developers should use `tox -e genconfig` to update it.
# Users are recommended to make changes to a copy of the file instead
# of the original, if any customizations are needed.
# *******************************************************************
# title: Inject SSL Trust Anchor on Overcloud Nodes
# description: |
#   When using an SSL certificate signed by a CA that is not in the default
#   list of CAs, this environment allows adding a custom CA certificate to
#   the overcloud nodes.
parameter_defaults:
  # The content of a CA's SSL certificate file in PEM format. This is evaluated on the client side.
  # Mandatory. This parameter must be set by the user.
  # Type: string
  SSLRootCertificate: |
          -----BEGIN CERTIFICATE-----
          MIID8zCCAtugAwIBAgIUbyyHzRPPCWWLroOS9e8fHPgWpeIwDQYJKoZIhvcNAQEL
          BQAwgYgxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApRdWVlbnNsYW5kMREwDwYDVQQH
          DAhCcmlzYmFuZTERMA8GA1UECgwIYm5lLWhvbWUxEzARBgNVBAMMCnRyaXBsZW9f
          Y2ExKTAnBgkqhkiG9w0BCQEWGmJyZW5kYW4uc2hlcGhhcmRAZ21haWwuY29tMB4X
          DTIwMTEzMDIyMjA0MFoXDTIxMTEzMDIyMjA0MFowgYgxCzAJBgNVBAYTAkFVMRMw
          EQYDVQQIDApRdWVlbnNsYW5kMREwDwYDVQQHDAhCcmlzYmFuZTERMA8GA1UECgwI
          Ym5lLWhvbWUxEzARBgNVBAMMCnRyaXBsZW9fY2ExKTAnBgkqhkiG9w0BCQEWGmJy
          ZW5kYW4uc2hlcGhhcmRAZ21haWwuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A
          MIIBCgKCAQEA4XZgJLcRr8FmbElifbF3s6/f3klMNxGQx/mJoeVHBhR4OQtXLRsj
          7EFyH7uS4Vd6S5zKQs4SH8r+JY51kQRB8OG8tCIwIhfgmtKlnGYG59e5mTJVVthi
          zRhZfXK+uY6+3uPfUqh43UTF9fISVOH6KUQFSwkUybJ2x4jsfip61InDjA3N0lAb
          QLVYEMfwlMO3ngEdBX2/SzpLK8fiDkvkD5njbjwy7H6XQNFoyCQpUOTTI+efCKM7
          2ZIgPe3GWGBtFPbKW5kMR0z5l1cP1R6zOxwqsjLiSSNVRDGWKY7FpS+FwJUNqx8k
          w+TxjDBSPzXjpVg87ba1y3GzLpvTdj3H6wIDAQABo1MwUTAdBgNVHQ4EFgQUk5GY
          Njh/2/v8rkNCUiPI4dWus4IwHwYDVR0jBBgwFoAUk5GYNjh/2/v8rkNCUiPI4dWu
          s4IwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAQEAT392BeJbX5vN
          Vpd5rYo1d5pmJMqzbD5wcoT2Q4hs8I9iCEcstSTsMllMa9DCRwfk7EMQDL4/dIjG
          8KPnLz1QzSWow25SNJJPka4mF4ui4JadUjzcrWl5Y27RSUbucmq3//Mn6sDbM8oW
          qLKC3XFJXtuAC7NkxWNhyaiZqdmmz78asMRcFwsD0femP2NOZZ4qm7/gFoWFJhCz
          dcXS0d1aPpUPWNuRkzzbx0rIPmtTUsmVGpJkeANECjvFPBJ866pgfaJjLDpLm80Z
          AhUTwh1TCaEAX9MX9li9bJ4XZgDukB957dy3LyIa1n7BXpP4KvoVt6EEUpsDO7p/
          MXmcg4eO0Q==
          -----END CERTIFICATE-----
          
resource_registry:
  OS::TripleO::NodeTLSCAData: /usr/share/openstack-tripleo-heat-templates/puppet/extraconfig/tls/ca-inject.yaml
