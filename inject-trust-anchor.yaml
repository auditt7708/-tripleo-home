# *******************************************************************
# This file was created automatically by the sample environment
# generator. Developers should use `tox -e genconfig` to update it.
# Users are recommended to make changes to a copy of the file instead
# of the original, if any customizations are needed.
# *******************************************************************
# title: Inject SSL Trust Anchor on Overcloud Nodes
# description: |
#   When using an SSL certificate signed by a CA that is not in the default
#   list of CAs, this environment allows adding a custom CA certificate to
#   the overcloud nodes.
parameter_defaults:
  # The content of a CA's SSL certificate file in PEM format. This is evaluated on the client side.
  # Mandatory. This parameter must be set by the user.
  # Type: string
  SSLRootCertificate: |
   -----BEGIN CERTIFICATE-----
   MIIECzCCAvOgAwIBAgIUNHDnQYgCKafTiVVpMEURgal9TwUwDQYJKoZIhvcNAQEL
   BQAwgZQxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApRdWVlbnNsYW5kMREwDwYDVQQH
   DAhCcmlzYmFuZTERMA8GA1UECgwIYm5lLWhvbWUxHzAdBgNVBAMMFm92ZXJjbG91
   ZC5ibmUtaG9tZS5uZXQxKTAnBgkqhkiG9w0BCQEWGmJyZW5kYW4uc2hlcGhhcmRA
   Z21haWwuY29tMB4XDTIwMTEyOTIzMTAwOFoXDTIxMTEyOTIzMTAwOFowgZQxCzAJ
   BgNVBAYTAkFVMRMwEQYDVQQIDApRdWVlbnNsYW5kMREwDwYDVQQHDAhCcmlzYmFu
   ZTERMA8GA1UECgwIYm5lLWhvbWUxHzAdBgNVBAMMFm92ZXJjbG91ZC5ibmUtaG9t
   ZS5uZXQxKTAnBgkqhkiG9w0BCQEWGmJyZW5kYW4uc2hlcGhhcmRAZ21haWwuY29t
   MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq9IVCdLZtgFRo8MQC6Aq
   ut0WGhH/ViV3/0QhGWbjHXJUVQ1JM2oERb+lUmP+M4hoWLocTUzKLRKm5VIRILS0
   6DuNLINorlPxItq7r4IEpXDXv1xe1HCeryU+MKooaN/tKYZz236gbh260Tj+90Rf
   aZc0oifMFOjtTctYnsLpmzMBpQCBacdlgt0NS7vEdJmbd9GUu2NvFFNjf4d/kUYK
   zSGeXaTk4YLy5e90YX7IsNpU9YsJigZnxHjCg85YrOZd0hx/ZE/vR5Ohy9wqP9nb
   YYzSj6OHQRZ36XtkaCoUZFqg9PiFpNlYO/V7/ICQWN+IPKUV5Y8Y92ACzmEW014I
   bQIDAQABo1MwUTAdBgNVHQ4EFgQUFkozqIyJDVgLFgXL9FFLw8iN66IwHwYDVR0j
   BBgwFoAUFkozqIyJDVgLFgXL9FFLw8iN66IwDwYDVR0TAQH/BAUwAwEB/zANBgkq
   hkiG9w0BAQsFAAOCAQEAeSdur6d2qXO8hc+PsMcxHGwKnaRQ3GQbs+FC5d4IMrRU
   lbNsSuuCLp9N3ctfKpkQo490mNMdnYuiQwOjtO31zaK1KB3nXs7IlueiWPwZ/ecw
   /A4FQdcnrzlWu09TFikJ9FDvZzdhkDVFTmTg8m3uLSKpMBUzNDiJy5HGYg105ij4
   aC5aEQz6EcAQAD3AWID/ESQdd6KFU7kCDG414f1Br5DFDdOcWGvtyUX7niMFYdSv
   Ofz7qaFNVxKlo8ujBsz3xmXVmS7Tna0L/HV2XlP9ATe3ZMbtAhjwbFiQy6dMMQaI
   3CxL5RCjKOVcc1MVBF1sDdle5y6uqmQZ6byocisyRQ==
   -----END CERTIFICATE-----

resource_registry:
  OS::TripleO::NodeTLSCAData: /usr/share/openstack-tripleo-heat-templates/puppet/extraconfig/tls/ca-inject.yaml
